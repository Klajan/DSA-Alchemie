<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DSA_Alchemie"
        xmlns:commons="clr-namespace:DSA_Alchemie.common"
        xmlns:System="clr-namespace:System;assembly=mscorlib" xmlns:Generic="clr-namespace:System.Collections.Generic;assembly=mscorlib" x:Name="AlchemieMain" x:Class="DSA_Alchemie.MainWindow"
        mc:Ignorable="d"
        Title="DSA Alchemie" Height="520" Width="800" SizeToContent="WidthAndHeight" SnapsToDevicePixels="False" ResizeMode="CanMinimize" WindowStartupLocation="CenterOwner">
    <Window.Resources>
        <local:BoolInverterConverter x:Key="BoolInverterConverter"/>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <local:AstralAufladenConverter x:Key="AstralAufladenConverter"/>
        <local:AstralAufladenConverter x:Key="aspCalcandStringConverter"/>
        <commons:Trank x:Key="Substitution"/>
    </Window.Resources>
    <Window.CommandBindings>
        <CommandBinding Command="{x:Static local:MainWindow.AddRezept_RoutedCommand}"
                    Executed="AddRezeptCommand_Executed"
                    CanExecute="AddRezeptCommand_CanExecute" />
    </Window.CommandBindings>
    <DockPanel LastChildFill="True" Margin="0,0,0,0">
        <Menu DockPanel.Dock="Top" Height="22" Margin="0,0,-0.4,0">
            <MenuItem Header="_Data" Margin="0" Height="22">
                <MenuItem Header="_Refresh"></MenuItem>
                <MenuItem Header="_Add Rezept" Command="{x:Static local:MainWindow.AddRezept_RoutedCommand}"></MenuItem>
            </MenuItem>
            <MenuItem Header="_File" Height="22">
                <MenuItem Header="_Import Helden XML"></MenuItem>
            </MenuItem>
            <MenuItem Header="_Settings" Height="22">
                <MenuItem x:Name="ManDice" Header="Manuell Würfeln" IsCheckable="True" IsChecked="False" StaysOpenOnClick="True"></MenuItem>
            </MenuItem>
        </Menu>
        <StatusBar DockPanel.Dock="Bottom" Height="22" Margin="0,0,-0.4,0"/>
        <Grid DockPanel.Dock="Bottom" Margin="2,0,1.6,0" Width="790" Height="435" Background="Azure">
            <Border BorderBrush="Black" BorderThickness="2" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="5" Width="450" CornerRadius="10" Height="200" Background="#FFEEEEEE">
                <Grid x:Name="Grid_Rezepte" HorizontalAlignment="Left" Height="195" VerticalAlignment="Top" Width="449">
                    <ComboBox x:Name="rezepte_combo_group" HorizontalAlignment="Left" Height="25" Margin="10,10,0,0" VerticalAlignment="Top" Width="120" SelectionChanged="ComboBoxRezepteGroup_SelectionChanged" IsSynchronizedWithCurrentItem="True" />
                    <ComboBox x:Name="rezepte_combo_rezept" HorizontalAlignment="Left" Height="25" Margin="135,10,0,0" VerticalAlignment="Top" Width="190" SelectionChanged="ComboBoxRezepteRezept_SelectionChanged" IsSynchronizedWithCurrentItem="True" IsEditable="True"/>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="107" Margin="211,48,0,0" VerticalAlignment="Top" Width="228">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <TextBlock x:Name="rezept_text_rezeptur" TextWrapping="Wrap" Margin="2" ScrollViewer.VerticalScrollBarVisibility="Auto" Text="{Binding Path=App.CurrentRezept.Zutaten, ElementName=AlchemieMain, Mode=OneWay}"/>
                        </ScrollViewer>
                    </Border>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="28" Margin="96,48,0,0" VerticalAlignment="Top" Width="110">
                        <Viewbox>
                            <TextBlock x:Name="rezept_text_labor" TextWrapping="Wrap" VerticalAlignment="Center" Margin="2" MinWidth="100" MaxWidth="180" Text="{Binding Path=App.CurrentRezept.Labor.Item2, ElementName=AlchemieMain, Mode=OneWay}"/>
                        </Viewbox>
                    </Border>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="28" Margin="96,76,0,0" VerticalAlignment="Top" Width="110">
                        <Viewbox>
                            <TextBlock x:Name="rezept_text_probe" TextWrapping="Wrap" VerticalAlignment="Center" Margin="2" MinWidth="100" MaxWidth="180">
                                <TextBlock.Text>
                                    <MultiBinding Mode="OneWay" StringFormat="{}{0:+#;-#;0} / {1:+#;-#;0}">
                                        <Binding Path="App.CurrentRezept.Mods.Item1" ElementName="AlchemieMain"/>
                                        <Binding Path="App.CurrentRezept.Mods.Item2" ElementName="AlchemieMain"/>
                                    </MultiBinding>
                                </TextBlock.Text>
                            </TextBlock>
                        </Viewbox>
                    </Border>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="28" Margin="96,104,0,0" VerticalAlignment="Top" Width="110">
                        <Viewbox>
                            <TextBlock x:Name="rezept_text_beschaffung" TextWrapping="Wrap" VerticalAlignment="Center" Margin="2" MinWidth="100" MaxWidth="180">
                                <TextBlock.Text>
                                    <MultiBinding Mode="OneWay" StringFormat="{}{0} / {1:0}">
                                        <Binding Path="App.CurrentRezept.Beschaffung.Item1" ElementName="AlchemieMain"/>
                                        <Binding Path="App.CurrentRezept.Beschaffung.Item2" ElementName="AlchemieMain"/>
                                    </MultiBinding>
                                </TextBlock.Text>
                            </TextBlock>
                        </Viewbox>
                    </Border>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="28" Margin="96,132,0,0" VerticalAlignment="Top" Width="110">
                        <Viewbox>
                            <TextBlock x:Name="rezept_text_preis" TextWrapping="Wrap" VerticalAlignment="Center" Margin="2" MinWidth="100" MaxWidth="180" Text="{Binding Path=App.CurrentRezept.Preis, ElementName=AlchemieMain, Mode=OneWay}"/>
                        </Viewbox>
                    </Border>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="28" Margin="96,160,0,0" VerticalAlignment="Top" Width="110">
                        <Viewbox>
                            <TextBlock x:Name="rezept_text_verbreitung" TextWrapping="Wrap" VerticalAlignment="Center" Margin="2" MinWidth="100" MaxWidth="180" Text="{Binding Path=App.CurrentRezept.Verbreitung, ElementName=AlchemieMain, Mode=OneWay}"/>
                        </Viewbox>
                    </Border>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="28" Margin="295,160,0,0" VerticalAlignment="Top" Width="144">
                        <Viewbox>
                            <TextBlock x:Name="rezept_text_haltbarkeit" TextWrapping="Wrap" VerticalAlignment="Center" Margin="2" MinWidth="140" MaxWidth="220" Text="{Binding Path=App.CurrentRezept.Haltbarkeit, ElementName=AlchemieMain, Mode=OneWay}"/>
                        </Viewbox>
                    </Border>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="28" Margin="394,10,0,0" VerticalAlignment="Top" Width="45">
                        <TextBlock x:Name="rezept_text_seite" TextWrapping="NoWrap" VerticalAlignment="Center" Margin="2" Text="{Binding Path=App.CurrentRezept.Seite, ElementName=AlchemieMain, Mode=OneWay}"/>
                    </Border>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="28" Margin="10,48,0,0" VerticalAlignment="Top" Width="86">
                        <TextBlock TextWrapping="Wrap" Text="Labor:" FontWeight="Bold" Margin="2" VerticalAlignment="Center"/>
                    </Border>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="28" Margin="10,76,0,0" VerticalAlignment="Top" Width="86">
                        <TextBlock TextWrapping="Wrap" Text="Probe:" FontWeight="Bold" Margin="2" VerticalAlignment="Center"/>
                    </Border>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="28" Margin="10,104,0,0" VerticalAlignment="Top" Width="86">
                        <TextBlock TextWrapping="Wrap" Text="Beschaffung" FontWeight="Bold" Margin="2" VerticalAlignment="Center"/>
                    </Border>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="28" Margin="10,132,0,0" VerticalAlignment="Top" Width="86">
                        <TextBlock TextWrapping="Wrap" Text="Preis:" FontWeight="Bold" Margin="2" VerticalAlignment="Center"/>
                    </Border>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="28" Margin="10,160,0,0" VerticalAlignment="Top" Width="86">
                        <TextBlock TextWrapping="Wrap" Text="Verbreitung:" FontWeight="Bold" Margin="2" VerticalAlignment="Center"/>
                    </Border>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="28" Margin="209,160,0,0" VerticalAlignment="Top" Width="86">
                        <TextBlock TextWrapping="Wrap" Text="Haltbarkeit:" FontWeight="Bold" Margin="2" VerticalAlignment="Center"/>
                    </Border>
                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="28" Margin="330,10,0,0" VerticalAlignment="Top" Width="64">
                        <TextBlock TextWrapping="Wrap" Text="Seite:" FontWeight="Bold" Margin="2" VerticalAlignment="Center"/>
                    </Border>
                </Grid>
            </Border>
            <Border BorderBrush="Black" BorderThickness="2" HorizontalAlignment="Left" Height="425" Margin="5,5,0,0" VerticalAlignment="Top" Width="325" CornerRadius="10">
                <Border.Background>
                    <SolidColorBrush Color="#FFEEEEEE"/>
                </Border.Background>
                <Grid>
                    <StackPanel HorizontalAlignment="Left" Height="270" VerticalAlignment="Top" Margin="5" Width="314">
                        <WrapPanel Margin="5">
                            <StackPanel HorizontalAlignment="Left" Height="40" VerticalAlignment="Top" Width="36" Background="#7FABABAB" Margin="5,0,0,0">
                                <TextBlock TextWrapping="Wrap" Text="MU" Height="20" FontSize="14" FontWeight="Bold" HorizontalAlignment="Center" RenderTransformOrigin="9.587,5.712"/>
                                <local:NumericUpDown x:Name="MUbox" Height="20" FontSize="14" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" Min="1" Max="99" BorderBrush="#7FABABAB" HorizontalAlignment="Center" Width="36" Value="{Binding Path=App.Character.MU, ElementName=AlchemieMain, Mode=TwoWay, FallbackValue=1}"/>
                            </StackPanel>
                            <StackPanel HorizontalAlignment="Left" Height="40" VerticalAlignment="Top" Width="36" Background="#7FABABAB" Margin="5,0,0,0">
                                <TextBlock TextWrapping="Wrap" Text="KL" Height="20" FontSize="14" FontWeight="Bold" HorizontalAlignment="Center"/>
                                <local:NumericUpDown x:Name="KLbox" Height="20" FontSize="14" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" Min="1" Max="99" BorderBrush="#7FABABAB" Width="36" HorizontalAlignment="Center" Value="{Binding Path=App.Character.KL, ElementName=AlchemieMain, Mode=TwoWay, FallbackValue=1}"/>
                            </StackPanel>
                            <StackPanel HorizontalAlignment="Left" Height="40" VerticalAlignment="Top" Width="36" Background="#7FABABAB" Margin="5,0,0,0">
                                <TextBlock TextWrapping="Wrap" Text="IN" Height="20" FontSize="14" FontWeight="Bold" HorizontalAlignment="Center"/>
                                <local:NumericUpDown x:Name="INbox" Height="20" FontSize="14" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" Min="1" Max="99" BorderBrush="#7FABABAB" Width="36" HorizontalAlignment="Center" Value="{Binding Path=App.Character.IN, ElementName=AlchemieMain, Mode=TwoWay, FallbackValue=1}"/>
                            </StackPanel>
                            <StackPanel HorizontalAlignment="Left" Height="40" VerticalAlignment="Top" Width="36" Background="#7FABABAB" Margin="5,0,0,0">
                                <TextBlock TextWrapping="Wrap" Text="FF" Height="20" FontSize="14" FontWeight="Bold" HorizontalAlignment="Center"/>
                                <local:NumericUpDown x:Name="FFbox" Height="20"  FontSize="14" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" Min="1" Max="99" BorderBrush="#7FABABAB" Width="36" HorizontalAlignment="Center" Value="{Binding Path=App.Character.FF, ElementName=AlchemieMain, Mode=TwoWay, FallbackValue=1}"/>
                            </StackPanel>
                        </WrapPanel>
                        <GroupBox Header="Talente" HorizontalAlignment="Left" Width="300" Margin="5">
                            <GroupBox.BorderBrush>
                                <SolidColorBrush Color="Black"/>
                            </GroupBox.BorderBrush>
                            <StackPanel HorizontalAlignment="Left">
                                <WrapPanel Height="24" Margin="0" Width="262" HorizontalAlignment="Right">
                                    <RadioButton x:Name="Radio_Alchemie" GroupName="Talent" Content="Alchemie" FontSize="14" FontWeight="Bold" IsChecked="True" Height="20" Width="80" VerticalContentAlignment="Center" Margin="0,2,4,0"/>
                                    <local:NumericUpDown x:Name="txtBox_AlchemieTaW" HorizontalAlignment="Left" Height="20" VerticalAlignment="Top" Width="40" FontSize="14" Margin="0,2,4,0" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" Value="{Binding Path=App.Character.Alchemie, ElementName=AlchemieMain, Mode=TwoWay, FallbackValue=1}"/>
                                    <CheckBox x:Name="MHchkAlch" Content="MH" HorizontalAlignment="Left" VerticalAlignment="Top" RenderTransformOrigin="0.5,0.5" Margin="0,2,4,0">
                                        <CheckBox.RenderTransform>
                                            <TransformGroup>
                                                <ScaleTransform/>
                                                <SkewTransform/>
                                                <RotateTransform/>
                                                <TranslateTransform Y="2"/>
                                            </TransformGroup>
                                        </CheckBox.RenderTransform>
                                    </CheckBox>
                                    <local:NumericUpDown x:Name="txtBox_AlchemieMH" HorizontalAlignment="Left" Height="20" VerticalAlignment="Top" Width="40" FontSize="14" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" IsEnabled="{Binding IsChecked, ElementName=MHchkAlch}" Margin="0,2,4,0"/>
                                </WrapPanel>
                                <WrapPanel Height="24" Margin="0,0,0.4,0">
                                    <RadioButton x:Name="Radio_Kochen" GroupName="Talent" Content="Kochen" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="14" FontWeight="Bold" Height="20" Width="80" VerticalContentAlignment="Center" Margin="0,2,4,0"/>
                                    <local:NumericUpDown x:Name="txtBox_KochenTaW" HorizontalAlignment="Left" Height="20" VerticalAlignment="Top" Width="40" FontSize="14" Margin="0,2,4,0" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" Value="{Binding Path=App.Character.Kochen, ElementName=AlchemieMain, Mode=TwoWay, FallbackValue=1}"/>
                                    <CheckBox x:Name="MHchkKoch" Content="MH" HorizontalAlignment="Left" VerticalAlignment="Top" RenderTransformOrigin="0.5,0.5" Margin="0,2,4,0">
                                        <CheckBox.RenderTransform>
                                            <TransformGroup>
                                                <ScaleTransform/>
                                                <SkewTransform/>
                                                <RotateTransform/>
                                                <TranslateTransform Y="2"/>
                                            </TransformGroup>
                                        </CheckBox.RenderTransform>
                                    </CheckBox>
                                    <local:NumericUpDown x:Name="txtBox_KochenMH" HorizontalAlignment="Left" Height="20" VerticalAlignment="Top" Width="40" FontSize="14" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" IsEnabled="{Binding IsChecked, ElementName=MHchkKoch}" Margin="0,2,4,0"/>
                                </WrapPanel>
                            </StackPanel>
                        </GroupBox>
                        <GroupBox Header="Sonderfertigkeiten / Alchemieschalen" HorizontalAlignment="Left" VerticalAlignment="Top" Width="300" Margin="5">
                            <GroupBox.BorderBrush>
                                <SolidColorBrush Color="Black"/>
                            </GroupBox.BorderBrush>
                            <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Width="260">
                                <CheckBox x:Name="chkBox_AllgAnalyse" Content="Allegorische Analyse" Height="18" RenderTransformOrigin="0.5,0.5" IsChecked="{Binding Path=App.Character.AllegorischeAnalyse, ElementName=AlchemieMain, Mode=TwoWay, FallbackValue=false}">
                                    <CheckBox.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform/>
                                            <SkewTransform/>
                                            <RotateTransform/>
                                            <TranslateTransform Y="2"/>
                                        </TransformGroup>
                                    </CheckBox.RenderTransform>
                                </CheckBox>
                                <CheckBox x:Name="chkBox_ChymHoch" Content="Chymische Hochzeit" Height="18" RenderTransformOrigin="0.5,0.5" IsChecked="{Binding Path=App.Character.ChymischeHochzeit, ElementName=AlchemieMain, Mode=TwoWay, FallbackValue=false}">
                                    <CheckBox.ToolTip>
                                        <TextBlock MaxWidth="250" TextWrapping="Wrap" Text="Mit der Chymischen Hochzeit sind Talentproben zur Herstellung von Elixieren um 1 Punkt erleichtert und die Qualitätszahl um 2 Punkte erhöht. Außerdem spart man beim Astralen Aufladen die Hälfte der AsP."/>
                                    </CheckBox.ToolTip>
                                    <CheckBox.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform/>
                                            <SkewTransform/>
                                            <RotateTransform/>
                                            <TranslateTransform Y="2"/>
                                        </TransformGroup>
                                    </CheckBox.RenderTransform>
                                </CheckBox>
                                <CheckBox x:Name="chkBox_MandBind" Content="Mandricons Bindung" Height="18" RenderTransformOrigin="0.5,0.5" IsChecked="{Binding Path=App.Character.MandriconsBindung, ElementName=AlchemieMain, Mode=TwoWay, FallbackValue=false}">
                                    <CheckBox.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform/>
                                            <SkewTransform/>
                                            <RotateTransform/>
                                            <TranslateTransform Y="2"/>
                                        </TransformGroup>
                                    </CheckBox.RenderTransform>
                                </CheckBox>
                            </StackPanel>
                        </GroupBox>
                        <WrapPanel>
                            <StackPanel Width="147">
                                <TextBlock TextWrapping="Wrap" Text="Laborstufe"/>
                                <ComboBox x:Name="LaborStufe" IsReadOnly="True" IsSynchronizedWithCurrentItem="True" SelectedIndex="{Binding App.Character.Labor, ElementName=AlchemieMain, FallbackValue=0, Mode=OneWayToSource}">
                                    <ComboBoxItem Content="Archaisches Labor" IsSelected="True"/>
                                    <ComboBoxItem Content="Hexenküche"/>
                                    <ComboBoxItem Content="Alchimistenlabor"/>
                                </ComboBox>
                            </StackPanel>
                            <StackPanel Width="147">
                                <TextBlock TextWrapping="Wrap" Text="Laborausrüstung"/>
                                <ComboBox x:Name="LaborQuality" IsReadOnly="True" ItemsSource="{x:Static local:App.LabQualityList}" DisplayMemberPath="Item2" SelectedIndex="1" SelectedValue="{Binding App.Character.LaborQuality, ElementName=AlchemieMain, FallbackValue=0, Mode=OneWayToSource}" IsSynchronizedWithCurrentItem="True" SelectedValuePath="Item1"/>
                            </StackPanel>
                        </WrapPanel>
                    </StackPanel>
                </Grid>
            </Border>
            <Border BorderBrush="Black" BorderThickness="2" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,5" CornerRadius="5" Width="450" Height="220" Background="#FFEEEEEE">
                <TabControl Margin="2" Background="#FFeeeeee">
                    <TabItem Header="Brauen">
                        <Grid Background="#FFE5E5E5">
                            <GroupBox Header="Ergebnis" Height="187" Margin="225,0,-0.2,0" VerticalAlignment="Top">
                                <Grid >
                                    <Border BorderBrush="Black" BorderThickness="1" Margin="0,2,0,0" HorizontalAlignment="Left" Height="26" VerticalAlignment="Top" Width="80">
                                        <Border.Background>
                                            <ImageBrush/>
                                        </Border.Background>
                                        <TextBlock Text="Qualität:" VerticalAlignment="Center" Margin="2,0,0,0" FontWeight="Bold" />
                                    </Border>
                                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="26" Margin="0,123,0,0" VerticalAlignment="Top" Width="80">
                                        <TextBlock TextWrapping="Wrap" Text="Merkmale:" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="2.2,4.2,-0.8,3.8" Width="77" FontWeight="Bold"/>
                                    </Border>
                                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="26" Margin="85,2,0,0" VerticalAlignment="Top" Width="113">
                                        <TextBox x:Name="brauen_txtBox_quality" Text="" HorizontalAlignment="Left" VerticalAlignment="Center" Height="20" Margin="2.2,0,0,0" VerticalContentAlignment="Center" Width="103" FontWeight="Bold" Background="#FFEFEFEF"
                                                 TextChanged="BrauenQuality_TextChanged"/>
                                    </Border>
                                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="42" Margin="85,123,0,-0.2" VerticalAlignment="Top" Width="113">
                                        <ScrollViewer VerticalScrollBarVisibility="Hidden" Margin="0.2,0.2,-0.4,-0.2">
                                            <TextBlock x:Name="brauen_txt_merkmale" TextWrapping="Wrap" Text="" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="2,-1,-0.6,-0.6" Width="115" ScrollViewer.VerticalScrollBarVisibility="Auto"/>
                                        </ScrollViewer>
                                    </Border>
                                    <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="85" Margin="0,33,0,0" VerticalAlignment="Top" Width="198">
                                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                                            <TextBlock x:Name="brauen_txt_wirkung" TextWrapping="Wrap" Margin="3.2,0.2,3.4,-1" VerticalAlignment="Top" ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.CanContentScroll="True" Text="{Binding App.Trank.CurrentWirkung, ElementName=AlchemieMain}"/>
                                        </ScrollViewer>
                                    </Border>
                                </Grid>
                            </GroupBox>
                            <GroupBox Header="Brauen des Elixiers" HorizontalAlignment="Left" Height="187" VerticalAlignment="Top" Width="220">
                                <Grid>
                                    <Label Content="Zurückhalten:" HorizontalAlignment="Left" Margin="0,10,0,0" VerticalAlignment="Top" FontWeight="Bold" Height="25" Width="113"/>
                                    <Label Content="Astrales Aufladen:" HorizontalAlignment="Left" Margin="0,35,0,0" VerticalAlignment="Top" FontWeight="Bold" Height="25" Width="113"/>
                                    <ComboBox x:Name="brauen_combo_substi" HorizontalAlignment="Left" Margin="0,65,0,0" VerticalAlignment="Top" Width="207" IsReadOnly="True" ItemsSource="{x:Static local:App.SubstitutionList}" DisplayMemberPath="Item2" SelectedIndex="1"/>
                                    <Button HorizontalAlignment="Left" Margin="66.6,91.96,0,0" VerticalAlignment="Top" Width="80" Click="Button_Click" Height="30" Background="White">
                                        <Button.Effect>
                                            <DropShadowEffect ShadowDepth="0.5" BlurRadius="2"/>
                                        </Button.Effect>
                                        <Grid Height="25" Width="75">
                                            <Image  Source="resources/iconmonstr-flask-5-240.png" Height="22" Margin="1" Stretch="Uniform" VerticalAlignment="Center" HorizontalAlignment="Left" RenderOptions.BitmapScalingMode="HighQuality">
                                            </Image>
                                            <TextBlock TextWrapping="Wrap" Text="Brauen" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,4.52" Width="47" FontWeight="Bold">
                                            </TextBlock>
                                        </Grid>
                                    </Button>
                                    <DockPanel HorizontalAlignment="Left" Height="26" LastChildFill="False" Margin="118,10,0,0" VerticalAlignment="Top" Width="19"/>
                                    <local:NumericUpDown x:Name="brauen_input_rckHalten" Height="25" Margin="113,10,54.2,0" VerticalAlignment="Top" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" Min="0" BorderBrush="Black" />
                                    <local:NumericUpDown x:Name="brauen_input_astralAuf" Height="25" Margin="113,35,54.2,0" VerticalAlignment="Top" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" Min="0" NotifyOnValueChanged="True" BorderBrush="Black" />
                                    <TextBox x:Name="brauen_txtBox_asp" HorizontalAlignment="Left" Height="25" Margin="183,35,0,0" VerticalContentAlignment="Center" Text="{Binding Value, Converter={StaticResource AstralAufladenConverter}, ElementName=brauen_input_astralAuf, FallbackValue=0, Mode=OneWay}" VerticalAlignment="Top" Width="24" IsTabStop="False" AllowDrop="False" IsReadOnly="True" IsUndoEnabled="False"/>
                                    <TextBlock HorizontalAlignment="Left" Margin="156,40,0,0" TextWrapping="Wrap" Text="AsP:" VerticalAlignment="Top" Width="24"/>
                                    <WrapPanel HorizontalAlignment="Left" Height="20" Margin="0,92,0,0" VerticalAlignment="Top" Width="55">
                                        <Image Height="20" Source="resources/d20_icon.png" Stretch="Uniform" RenderOptions.BitmapScalingMode="HighQuality"/>
                                        <local:NumericUpDown x:Name="d20_brauen_1" Min="1" Max="20" Width="30" Height="20" Margin="5,0,0,0" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" ButtonVisibility="{Binding IsChecked, Converter={StaticResource BooleanToVisibilityConverter}, ElementName=ManDice}" IsReadOnly="{Binding IsChecked, Converter={StaticResource BoolInverterConverter}, ElementName=ManDice}" Value="{Binding App.Trank.RollEign.DiceList[0], ElementName=AlchemieMain, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                    </WrapPanel>
                                    <WrapPanel HorizontalAlignment="Left" Height="20" Margin="0,117,0,0" VerticalAlignment="Top" Width="55">
                                        <Image Height="20" Source="resources/d20_icon.png" Stretch="Uniform" RenderOptions.BitmapScalingMode="HighQuality"/>
                                        <local:NumericUpDown x:Name="d20_brauen_2" Min="1" Max="20" Width="30" Height="20" Margin="5,0,0,0" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" ButtonVisibility="{Binding IsChecked, Converter={StaticResource BooleanToVisibilityConverter}, ElementName=ManDice}" IsReadOnly="{Binding IsChecked, Converter={StaticResource BoolInverterConverter}, ElementName=ManDice}" Value="{Binding Path=App.Trank.RollEign.DiceList[1], ElementName=AlchemieMain, Mode=TwoWay, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}"/>
                                    </WrapPanel>
                                    <WrapPanel HorizontalAlignment="Left" Height="20" Margin="0,142,0,0" VerticalAlignment="Top" Width="55">
                                        <Image Height="20" Source="resources/d20_icon.png" Stretch="Uniform" RenderOptions.BitmapScalingMode="HighQuality"/>
                                        <local:NumericUpDown x:Name="d20_brauen_3" Min="1" Max="20" Width="30" Height="20" Margin="5,0,0,0" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" ButtonVisibility="{Binding IsChecked, Converter={StaticResource BooleanToVisibilityConverter}, ElementName=ManDice}" IsReadOnly="{Binding IsChecked, Converter={StaticResource BoolInverterConverter}, ElementName=ManDice}" Value="{Binding Path=App.Trank.RollEign.DiceList[2], ElementName=AlchemieMain, Mode=TwoWay, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}"/>
                                    </WrapPanel>
                                    <WrapPanel HorizontalAlignment="Left" Height="20" Margin="152,92,0,0" VerticalAlignment="Top" Width="55">
                                        <Image Height="20" Source="resources/d20_icon.png" Stretch="Uniform" RenderOptions.BitmapScalingMode="HighQuality"/>
                                        <local:NumericUpDown x:Name="d6_brauen_1" Min="1" Max="20" Width="30" Height="20" Margin="5,0,0,0" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" ButtonVisibility="{Binding IsChecked, Converter={StaticResource BooleanToVisibilityConverter}, ElementName=ManDice}" IsReadOnly="{Binding IsChecked, Converter={StaticResource BoolInverterConverter}, ElementName=ManDice}" Value="{Binding Path=App.Trank.RollQual.DiceList[0], ElementName=AlchemieMain, Mode=TwoWay, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}"/>
                                    </WrapPanel>
                                    <WrapPanel HorizontalAlignment="Left" Height="20" Margin="152,117,0,0" VerticalAlignment="Top" Width="55">
                                        <Image Height="20" Source="resources/d20_icon.png" Stretch="Uniform" RenderOptions.BitmapScalingMode="HighQuality"/>
                                        <local:NumericUpDown x:Name="d6_brauen_2" Min="1" Max="20" Width="30" Height="20" Margin="5,0,0,0" IncreaseFunc="numericIncrease1" DecreaseFunc="numericDecrease1" ButtonVisibility="{Binding IsChecked, Converter={StaticResource BooleanToVisibilityConverter}, ElementName=ManDice}" IsReadOnly="{Binding IsChecked, Converter={StaticResource BoolInverterConverter}, ElementName=ManDice}" Value="{Binding Path=App.Trank.RollQual.DiceList[1], ElementName=AlchemieMain, Mode=TwoWay, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}"/>
                                    </WrapPanel>
                                </Grid>
                            </GroupBox>
                        </Grid>
                    </TabItem>
                    <TabItem Header="Verdünnen">
                        <Grid Background="#FFE5E5E5"/>
                    </TabItem>
                    <TabItem Header="Haltbarkeit erhöhen">
                        <Grid Background="#FFE5E5E5"/>
                    </TabItem>
                    <TabItem Header="Analysieren" >
                        <Grid Background="#FFE5E5E5"/>
                    </TabItem>
                </TabControl>
            </Border>
        </Grid>
    </DockPanel>

</Window>